# vmdgadgets

MMDのモーション記録ファイルであるvmdファイルを操作するツールです。

## 概要
1. camlight.py
    * カメラの方向と同方向あるいは逆方向の照明を作成します。  
カメラによっては激しく影が動き不快なものになります、特に地面影。
2. vmd_concat.py
    * 元となるvmdファイル中の特定のフレーム範囲を別のvmdファイルへコピーします。
3. transmotion.py
    * モーションの移動、回転、拡大・縮小を行います。  
元モーションと完全一致はしません。また、対象モデルの左足IK座標情報が必要になります。
4. stepback.py
    * 両足IKのZ軸(前後)移動を逆に変更したモーションを作成します。  
色々と無理があります。

## 必要なもの
Python 3.5.1。  
単に私の環境です。 Windowsでしか確認していません。  
pythonの導入・利用方法については、[python.org](https://www.python.org)を参照してください。

## 導入方法、使い方
vmdgadgetsディレクトリ以下をどこかにコピーしてください。  
それぞれのスクリプトに対して、-h か --helpを指定実行すると、簡単な使い方やオプションの説明を出力します。  
酷い英語ですがご容赦ください。  
1. camlightの使い方は以下の通りです。  

`python camlight.py 入力カメラファイル名 出力照明ファイル名`  

入出力ファイル名を省略した場合は標準入出力を使いますので、上の記法と下の記法は同じ動きになります。  

`python camlight.py <入力カメラファイル名>出力照明ファイル名`  

なお、2.のvmd_concatはコピー諸元(コピー元となるファイルの名称やフレーム番号)を記載したテキストを直接の入力にします。

## サンプル
sample/lambに、上記Pythonスクリプトを呼び出し照明や逆行モーションを作成するバッチファイル例があります。  
Pythonインストール後、元となるカメラファイルおよびモーションファイルを同ディレクトリにコピーし、  
カメラファイルをlamb_light.batに、モーションファイルをlamb_motion.batに、それぞれドラッグアンドドロップすると、  
照明(1~4.vmdとlight.vmd)と逆行モーション(2nd_motion.vmd)とを作ります。  
light.vmdは1~4.vmdを継ぎはぎしたもので、逆行モーションは少し回転を付けて歩幅狭めています。


