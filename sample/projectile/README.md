# 目線モーション #3
## 概要
* 他のモデルを追跡するモーションを軸固定のボーンで行います。
* ついでに投擲も行います。
* まだ不具合や無駄が多く、他のモデルでは試してないです。
* 覚書きも兼ねて、sm30712213の再現手順を以下に記します。

## 必要なもの
* Python3系の他、numpyのインストールが必要です。
    * `python -m pip install numpy`
* ゴリマ式\_ビスマルクdrei ver1.01
    * お借りします。

## 手順
1. モデルには15バイトを超えるボーン名称があるので、ボーン名を一部変えます。
    * `python rename_bismark.py`
    * modelディレクトリに、"bismark_renamed.pmx"ができます。
2. 両目ボーンの親子関係変更
    * 計算の都合上、両目ボーンは頭ボーンの支配下に置く必要があるので、手作業で変更します。
3. 砲弾モデルの複製
    * 8門それぞれ用の砲弾モデルを作ります。同じモデルを使い回しても問題ないですが、分かりやすさのためです。
    * `python copy_bullet.py`
    * modelディレクトリにbullet[0-7].pmxが出来ます。
    * それぞれモデルの日本語名称が砲門名になります。
4. モーション作成
    * `python turret.py`
    * motionディレクトリに、turret.vmd, face.vmdと砲門名vmdファイルが出来ます
    * それぞれ、砲塔モーション、顔・首モーション、砲弾モーションです。
    * 計算はかなり遅いです。
5. mmdへ取込み
    * gunner.vmd, turret.vmd, face.vmdを1, 2で変更したモデルに取込み
    * drone.vmdをdrone.pmxモデルに取込み
    * 砲門名vmdファイルをそれぞれ対応するbullet[0-7].pmxに取込み
        * モーションを取込む前に、**必ず「モデル操作」欄の「登録」をクリックすること**
        * しないとmmdが異常終了します
